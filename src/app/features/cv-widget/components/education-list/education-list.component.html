<div>
  <mat-divider></mat-divider>
  <div class="add-button">
    <button mat-button color="primary" (click)="handleAdd()">
      Добавить образование
      <mat-icon [svgIcon]="EIconName.ADD" curIconSize="Medium">favorite</mat-icon>
    </button>
  </div>
  <mat-divider></mat-divider>
</div>
<div class="mt-3">
  <cur-expander [multi]="true" (dropEnd)="drop($event)">
    @for (exp of list.controls; track $index) {
      <cur-expander-item (actionClick)="handleAction($event)" [dragConfig]="dragConfig">
        <ng-template curExpanderTitle>
          @if (exp.controls.location.value) {
            <p>{{ exp.controls.location.value }}&nbsp;</p>
          }
          <p>{{ exp.controls.institution.value }}</p>
        </ng-template>
        <ng-template curExpanderTitleDescription>
          <div class="ml-5 range">
            <mat-icon>date_range</mat-icon>
            <span class="ml-1">
              {{ exp.controls.startYear.value | dateFormat: 'MM/yyyy' }}
              <span>&mdash;</span>
              {{ exp.controls.endYear.value | dateFormat: 'MM/yyyy' }}
            </span>
          </div>
        </ng-template>
        <ng-template curExpanderContent>
          <div>
            <p class="subtitle">Степень/специальность</p>
            <pre>{{ exp.controls.degree.value }}</pre>
          </div>
          @if (exp.controls?.description?.value) {
            <div class="mt-3">
              <p class="subtitle">Описание</p>
              <quill-view-html
                [content]="exp.controls?.description?.value"
                theme="snow"></quill-view-html>
            </div>
          }
        </ng-template>
      </cur-expander-item>
    }
  </cur-expander>
</div>
